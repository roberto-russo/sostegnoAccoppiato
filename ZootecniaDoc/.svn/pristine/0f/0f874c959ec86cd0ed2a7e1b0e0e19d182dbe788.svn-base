--------------------------------------------------------
--  File creato - martedì-aprile-14-2020   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Table DMT_T_CLS_CAPO_MACELLATO
--------------------------------------------------------

  CREATE TABLE "ZOOTECNIA"."DMT_T_CLS_CAPO_MACELLATO" 
   (	"ALLEV_ID" NUMBER(19,0), 
	"CAPO_ID" NUMBER(19,0), 
	"FK_ID_SESSIONE" NUMBER(19,0), 
	"AZIENDA_CODICE" VARCHAR2(400 CHAR), 
	"AZIENDA_LATITUDINE" FLOAT(126), 
	"AZIENDA_LONGITUDINE" FLOAT(126), 
	"COD_LIBRO" VARCHAR2(400 CHAR), 
	"CODICE" VARCHAR2(400 CHAR), 
	"CUAA" VARCHAR2(16 CHAR), 
	"DESCR_LIBRO" VARCHAR2(400 CHAR), 
	"DT_COM_AUTORITA_INGRESSO" DATE, 
	"DT_COM_AUTORITA_USCITA" DATE, 
	"DT_FINE_DETENZIONE" DATE, 
	"DT_INGRESSO" DATE, 
	"DT_INIZIO_DETENZIONE" DATE, 
	"DT_INSERIMENTO_BDN_INGRESSO" DATE, 
	"DT_INSERIMENTO_BDN_USCITA" DATE, 
	"DT_MACELLAZIONE" DATE, 
	"DT_NASCITA" DATE, 
	"DT_USCITA" DATE, 
	"FLAG_DELEGATO_INGRESSO" VARCHAR2(10 CHAR), 
	"FLAG_DELEGATO_USCITA" VARCHAR2(10 CHAR), 
	"RAZZA_CODICE" VARCHAR2(400 CHAR), 
	"RUOLO_UTENTE_INGRESSO" VARCHAR2(10 CHAR), 
	"RUOLO_UTENTE_USCITA" VARCHAR2(10 CHAR), 
	"SESSO" VARCHAR2(1 CHAR), 
	"FK_CODICE_ERRORE_MAC" VARCHAR2(400 CHAR), 
	"FK_NUMERO_CAPI_MAC" NUMBER(19,0), 
	"FK_ID_SESSIONE_MAC" NUMBER(19,0)
   )
  TABLESPACE "DEMETRA_TBL" ;
--------------------------------------------------------
--  DDL for Index IE_DMT_T_CLS_CAPO_MACELLATO_03
--------------------------------------------------------

  CREATE UNIQUE INDEX "ZOOTECNIA"."IE_DMT_T_CLS_CAPO_MACELLATO_03" ON "ZOOTECNIA"."DMT_T_CLS_CAPO_MACELLATO" ("ALLEV_ID", "CAPO_ID", "FK_ID_SESSIONE") 
 
  TABLESPACE "DEMETRA_IDX " ;
--------------------------------------------------------
--  Constraints for Table DMT_T_CLS_CAPO_MACELLATO
--------------------------------------------------------

  ALTER TABLE "ZOOTECNIA"."DMT_T_CLS_CAPO_MACELLATO" MODIFY ("ALLEV_ID" NOT NULL ENABLE);
 
  ALTER TABLE "ZOOTECNIA"."DMT_T_CLS_CAPO_MACELLATO" MODIFY ("CAPO_ID" NOT NULL ENABLE);
 
  ALTER TABLE "ZOOTECNIA"."DMT_T_CLS_CAPO_MACELLATO" MODIFY ("FK_ID_SESSIONE" NOT NULL ENABLE);
 
  ALTER TABLE "ZOOTECNIA"."DMT_T_CLS_CAPO_MACELLATO" ADD CONSTRAINT "PK_DMT_T_CLS_CAPO_MACELLATO" PRIMARY KEY ("ALLEV_ID", "CAPO_ID", "FK_ID_SESSIONE")
 
--------------------------------------------------------
--  Ref Constraints for Table DMT_T_CLS_CAPO_MACELLATO
--------------------------------------------------------

  ALTER TABLE "ZOOTECNIA"."DMT_T_CLS_CAPO_MACELLATO" ADD CONSTRAINT "FK_DMT_S_SESSIONE_02" FOREIGN KEY ("FK_ID_SESSIONE")
	  REFERENCES "ZOOTECNIA"."DMT_S_SESSIONE" ("ID_SESSIONE") ENABLE;
 
  ALTER TABLE "ZOOTECNIA"."DMT_T_CLS_CAPO_MACELLATO" ADD CONSTRAINT "FK:DMT_D_CLS_PREMIO_VAL_RESP_02" FOREIGN KEY ("FK_CODICE_ERRORE_MAC", "FK_NUMERO_CAPI_MAC", "FK_ID_SESSIONE_MAC")
	  REFERENCES "ZOOTECNIA"."DMT_D_CLS_PREMIO_VAL_RESP" ("CODICE_ERRORE", "NUMERO_CAPI", "ID_SESSIONE") ENABLE;
