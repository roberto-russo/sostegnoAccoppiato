package it.csi.zoo.model;

import java.io.Serializable;
import java.util.Date;
import java.util.List;

import javax.persistence.CascadeType;
import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;
import javax.persistence.IdClass;
import javax.persistence.OneToMany;
import javax.persistence.Table;
import javax.persistence.Temporal;
import javax.persistence.TemporalType;
import javax.validation.constraints.NotNull;
import it.csi.zoo.compositeIds.Dmt_t_tabella_Storico_id;

@Entity
@Table(name = "STORICIZZAZIONE")
@IdClass(Dmt_t_tabella_Storico_id.class)
/**
* Model per la storicizzazione degli elementi del database. Tutti  gli oggetti salvati
* a db sono storicizzati attraverso questa classe.
* @version 0.1 (02-04-2020)
* @author Bcsoft
*/
public class Dmt_t_tabella_Storico implements Serializable {

	/**
	 * 
	 */
	private static final long serialVersionUID = 8933409933588617983L;

	@Id
	@Column(name = "data_e_ora")
	@NotNull
	@Temporal(TemporalType.TIMESTAMP)
	/**
	 * data e ora in cui viene effettuata la storicizzazione.
	 */
	private Date dataEora;

	@Id
	@GeneratedValue(strategy = GenerationType.AUTO)
	@Column(name = "id_storico")
	@NotNull
	/**
	 * id univoco associato all'istanza di storicizzazione.
	 */
	private long idStorico;
	
	
	
	/* CHIAVI ESTERNE */
	
	@Column(name = "lista_premio_valid_resp", length = 400)
	@OneToMany(mappedBy= "dmt_t_tabella_Storico", cascade = CascadeType.ALL)
	/**
	 * lista degli elementi di tipo Dmt_d_clsPremio_ValidazioneResponse
	 * associati all'id di storicizzazione attraverso la chiave esterna.
	 */
	public List<Dmt_d_clsPremio_ValidazioneResponse> validResp;
	
	
	
	
	
	
	/* FINE CHIAVI ESTERNE */
		
	/**
	 * metodo get che ritorna la data e l'ora di storicizzazione
	 * @return dataEora data e ora di inserimento elemento storicizzato di tipo Date
	 */
	public Date getDataEora() {
		return dataEora;
	}

	/**
	 * metodo set che imposta l'attributo dataEora.
	 * @param dataEora data e ora di inserimento dell'elemento storicizzato di tipo Date
	 */
	public void setDataEora(Date dataEora) {
		this.dataEora = dataEora;
	}

	/**
	 * metodo get che ritorna l'id associato all'elemento storicizzato
	 * @return idStorico id dell'elemento storicizzato di tipo long
	 */
	public long getIdStorico() {
		return idStorico;
	}

	/**
	 * metodo set che imposta l'attributo idStorico.
	 * @oaram idStorico id dell'elemento storicizzato. 
	 */
	public void setIdStorico(long idStorico) {
		this.idStorico = idStorico;
	}
}
