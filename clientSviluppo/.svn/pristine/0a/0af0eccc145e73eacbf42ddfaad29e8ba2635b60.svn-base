package it.csi.demetra.demetraws.zoo.model;

import java.io.Serializable;
import java.util.Date;

import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.Id;
import javax.persistence.IdClass;
import javax.persistence.JoinColumn;
import javax.persistence.ManyToOne;
import javax.persistence.Table;
import javax.persistence.Temporal;
import javax.persistence.TemporalType;
import javax.validation.constraints.NotNull;

import org.hibernate.annotations.ColumnDefault;

import it.csi.demetra.demetraws.zoo.compositeIds.Dmt_w_Tdu_premio_capi_id;

@Entity
@Table(name = "DMT_W_TDU_PREMIO_CAPI")
@IdClass(Dmt_w_Tdu_premio_capi_id.class)
public class Dmt_w_Tdu_premio_capi implements Serializable{

	/**
	 * 
	 */
	private static final long serialVersionUID = -4512892242193332232L;

	@ManyToOne
	@JoinColumn(name = "sessione", nullable = false)
	private Dmt_t_sessione sessione;

	@Id
	@Column(name = "id_sessione", precision = 20)
	private long idSessione;
	
	@Id
	/*
	 * Riferimento azienda
	 */
	@Column(name = "ID_AZIENDA", length = 11, precision = 0)
	@NotNull
	private Long id_azineda;
	
	@Id
	/*
	 * Versione
	 */
	@Column(name = "VERSIONE", length = 11, precision = 0)
	@NotNull
	private Long versione;
	
	@Id
	/*
	 * Codice allevamento BDN
	 */
	@Column(name = "COD_ALLEVAMENTO", length = 15)
	@NotNull
	private String cod_allevamento;
	
	@Id
	/*
	 * ID allevamento BDN
	 */
	@Column(name = "ID_ALLEV_BDN", length = 25)
	@NotNull
	private String id_allev_bdn;
	
	@Id
	/*
	 * Codice della marca auricolare applicata al capo bovino
	 */
	@Column(name = "CODICE", length = 16)
	@NotNull
	private String codice;
	
	@Column(name = "COD_INTERVENTO", length = 3)
	@ColumnDefault("'TPZ'")
	private String cod_intervento;
	
	/*
	 * Data di inizio detenzione. E valorizzata solo se il capo deve verificare in BDN un periodo minimo di detenzione
	 */
	@Column(name = "DATA_INIZIO_DETENZIONE")
	@NotNull
	@Temporal(TemporalType.DATE)
	private Date data_inizio_detenzione;
	
	/*
	 * Data di fine detenzione. A partire dalla campagna 2010 Ã¨ valorizzata solo se il capo deve verificare in BDN un periodo minimo di detenzione
	 */
	@Column(name = "DATA_FINE_DETENZIONE")
	@NotNull
	@Temporal(TemporalType.DATE)
	private Date data_fine_detenzione;
	

	@Id
	@Column(name = "SCO_INTERVENTO", length = 3)
	@NotNull
	private String sco_intervento;
	
	@Id
	@Column(name = "FLG_CONF_PREMIO", length = 1)
	private String flg_conf_premio;
	
	/*
	 * Valorizzato durante il calolo del premio
	 */
	@Column(name = "FLG_AMMISSIBILE", length = 1)
	@NotNull
	private String flg_ammissibile;
	
	public String getCod_intervento() {
		return cod_intervento;
	}

	public void setCod_intervento(String cod_intervento) {
		this.cod_intervento = cod_intervento;
	}

	public Date getData_inizio_detenzione() {
		return data_inizio_detenzione;
	}

	public void setData_inizio_detenzione(Date data_inizio_detenzione) {
		this.data_inizio_detenzione = data_inizio_detenzione;
	}

	public Date getData_fine_detenzione() {
		return data_fine_detenzione;
	}

	public Long getId_azineda() {
		return id_azineda;
	}

	public Long getVersione() {
		return versione;
	}

	public String getCod_allevamento() {
		return cod_allevamento;
	}

	public String getId_allev_bdn() {
		return id_allev_bdn;
	}

	public String getCodice() {
		return codice;
	}

	public String getSco_intervento() {
		return sco_intervento;
	}

	public String getFlg_conf_premio() {
		return flg_conf_premio;
	}

	public void setData_fine_detenzione(Date data_fine_detenzione) {
		this.data_fine_detenzione = data_fine_detenzione;
	}

	public String getFlg_ammissibile() {
		return flg_ammissibile;
	}

	public void setFlg_ammissibile(String flg_ammissibile) {
		this.flg_ammissibile = flg_ammissibile;
	}

	public Dmt_t_sessione getSessione() {
		return sessione;
	}

	public void setSessione(Dmt_t_sessione sessione) {
		this.sessione = sessione;
		this.idSessione = sessione.getIdSessione();
	}
	
	public long GetIdSessione() {
		return this.idSessione;
	}
	
} 